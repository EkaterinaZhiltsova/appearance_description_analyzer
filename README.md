# Описание проекта

Библиотека appearance_description_analyzer предназначена для обработки текстов и выделения действующих лиц и их описаний внешности. Библиотека поддерживает следующие функции: 
* нахождение описаний внешности в предложениях или тексте;
* выделение из текста персонажей, их имен, нахождение описаний внешности для выделенных персонажей;
* вывод текста с цветовой разметкой найденных описаний внешности;
* вычисление полноты и точности нахождения описаний внешности программой в сравнении с образцом из dataset;
* работа со словарями, которые используются для нахождения описаний персонажей.


## Установка
```
$ pip install --index-url https://test.pypi.org/simple/ --extra-index-url https://pypi.org/simple appearance-description-analyzer
```

## Описание функций

### Из модуля appearance_description_analyzer

#### Нахождение описаний внешности в тексте
```python
find_descriptions_of_appearance(text, show_colored_format_text_print=True, text_format="\033[36m{}\033[0m")
```

Аргументы функции: 
* text – текст (или одно предложение), в котором необходимо найти описания внешности,
* show_colored_format_text_print может принимать значения True (вывести в консоль текст с цветовой разметкой найденных описаний внешности) или False (не выводить текст с цветовой разметкой), параметр принимает default значение = True,
* text_format - форматирование для цветовой разметки текста (default значение = "\033[36m{}\033[0m" (цвет морской волны текста))

Возвращаемое значение: функция возвращает словарь, где значения {предложение : описания из предложения} для каждого из предложений в тексте


#### Выделение из текста персонажей, их имен, нахождение описаний внешности для выделенных персонажей
```python
appearance_descriptions_for_names(text, show_colored_format_text_print=True)
```

Аргументы функции: 
* text – текст (или одно предложение), в котором необходимо найти персонажей и их описания внешности,
* show_colored_format_text_print может принимать значения True (вывести в консоль текст с цветовой разметкой найденных имен и описаний внешности) или False (не выводить текст с цветовой разметкой), параметр принимает default значение = True

Возвращаемое значение: функция возвращает словарь, где значения {имя персонажа : описания для персонажа} для каждого из персонажей, выделенных из текста

### Из модуля dataset_check

#### Вычисление полноты и точности нахождения описаний внешности программой в сравнении с образцом из dataset из библиотеки
```python
dataset_check(dataset_filename='dataset.csv')
```

Аргументы функции: 
* dataset_filename - имя файла dataset (в необходимом для библиотеки формате (см. пример в файле dataset.csv библиотеки)), параметр принимает default значение = 'dataset.csv'

Возвращаемое значение: функция возвращает среднее значение полноты нахождения описаний внешности, среднее значение точности нахождения описаний внешности, список найденных в dataset описаний внешности (по предложениям)

### Из модуля work_with_dictionaries

#### Добавление слова в словарь
```python
add_to_dict(dict_type, word, word_theme='описание')
```

Аргументы функции: 
* dict_type обозначает тип словаря, в который необходимо добавить новое слово, может принимать значение 0 (словарь слов, которые встречаются только при описаниях внешности) или 1 (словарь слов, которые могут встречаться при описаниях внешности, но могут встречаться и в других случаях),
* word - слово, которое необходимо добавить в словарь,
* word_theme - тема добавляемого слова, параметр принимает default значение = 'описание'

Возвращаемое значение: сообщение об успешном/неуспешном добавление слова в словарь


#### Удаление слова из словаря
```python
remove_from_dict(dict_type, word)
```

Аргументы функции: 
* dict_type обозначает тип словаря, из которого необходимо удалить слово, может принимать значение 0 (словарь слов, которые встречаются только при описаниях внешности) или 1 (словарь слов, которые могут встречаться при описаниях внешности, но могут встречаться и в других случаях),
* word - слово, которое необходимо удалить из словаря

Возвращаемое значение: сообщение об успешном/неуспешном удалении слова из словаря



## Примеры использования

### Нахождение описаний внешности в тексте
```python
from appearance_description_analyzer import appearance_description_analyzer

text = open('sentences.txt', 'r', encoding='utf-8').read()

result = appearance_description_analyzer.find_descriptions_of_appearance(text, False)

# Возврат: словарь(предложение, описания из предложения)
for key, value in result.items():
    print(key, value)
```


### Выделение из текста персонажей, их имен, нахождение описаний внешности для выделенных персонажей
```python
from appearance_description_analyzer import appearance_description_analyzer

text = open('description.txt', 'r', encoding='utf-8').read()

result = appearance_description_analyzer.appearance_descriptions_for_names(text, True)

# Возврат: словарь(имя персонажа : описания для персонажа)
for key, value in result.items():
    print(key, value)
```

### Вычисление полноты и точности нахождения описаний внешности программой в сравнении с образцом из dataset из библиотеки
Для dataset из библиотеки:
```python
from appearance_description_analyzer import dataset_check

res = dataset_check.dataset_check()

print("Полнота: {:.0f}%".format(res[0]*100))
print("Точность: {:.0f}%".format(res[1]*100))
```

Для проверки своего dataset (соответствующего структуре dataset из библиотеки):
```python
from appearance_description_analyzer import dataset_check

res = dataset_check.dataset_check('dataset.csv')

print("Полнота: {:.0f}%".format(res[0]*100))
print("Точность: {:.0f}%".format(res[1]*100))
print("Cписок найденных описаний внешности:\n{}".format(res[2]))
```

### Добавление слова в словарь
```python
from appearance_description_analyzer import work_with_dictionaries

# Добавление в обязательный словарь (словарь слов, которые встречаются только при описаниях внешности) слова 'косички'
print(work_with_dictionaries.add_to_dict(0, 'косички'))
# В словарь добавится слово в нормальной форме 'косичка'
```

### Удаление слова из словаря
```python
from appearance_description_analyzer import work_with_dictionaries

# Удаление из обязательного словаря (словарь слов, которые встречаются только при описаниях внешности) слова 'косички'
print(work_with_dictionaries.remove_from_dict(0, 'косички'))
# Из словаря удалится слово в нормальной форме 'косичка'
```

